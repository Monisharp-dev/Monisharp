<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard | MoniSharp</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f9fafc;
      margin: 0;
      padding: 0;
    }
    .notify {
      background: #0d6efd;
      color: #fff;
      padding: 12px;
      text-align: center;
      font-weight: bold;
    }
    .dashboard-container {
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }
    .profile {
      text-align: center;
      margin-bottom: 20px;
    }
    .profile img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      margin-bottom: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .balances {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-bottom: 25px;
    }
    .balance-card {
      background: #fff;
      padding: 20px;
      border-radius: 14px;
      text-align: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
      transition: transform 0.2s;
    }
    .balance-card:hover {
      transform: translateY(-4px);
    }
    .balance-card i {
      font-size: 28px;
      margin-bottom: 8px;
      color: #0d6efd;
    }
    .count {
      font-weight: bold;
      font-size: 18px;
      margin-top: 8px;
    }
    .convert-btn {
      margin-top: 10px;
      padding: 6px 12px;
      border: none;
      border-radius: 6px;
      background: #0d6efd;
      color: #fff;
      cursor: pointer;
    }
    .quick-actions {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-top: 25px;
    }
    .action-card {
      background: #fff;
      border-radius: 14px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      transition: transform 0.2s, background 0.3s;
      cursor: pointer;
      text-decoration: none;
      color: #333;
    }
    .action-card:hover {
      transform: translateY(-4px);
      background: #e9f5ff;
    }
    .action-card i {
      font-size: 26px;
      margin-bottom: 10px;
      color: #0d6efd;
    }
    .action-card h4 {
      font-size: 15px;
      margin: 0;
      color: #222;
    }
    /* Suggested color accents */
    .blue i { color: #0d6efd; }
    .green i { color: #198754; }
    .purple i { color: #6f42c1; }
    .orange i { color: #fd7e14; }
    .red i { color: #dc3545; }
    .teal i { color: #20c997; }
    .dark i { color: #343a40; }
    .gold i { color: #f1c40f; }
    .pink i { color: #e83e8c; }
    .indigo i { color: #6610f2; }

    /* Custom Notification Styles */
    .custom-alert {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #dc3545;
      color: #fff;
      padding: 12px 18px;
      border-radius: 10px;
      font-weight: bold;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      display: flex;
      align-items: center;
      gap: 10px;
      animation: fadeIn 0.3s ease, fadeOut 0.3s ease 3s forwards;
      z-index: 1000;
    }
    .custom-alert.success {
      background: #198754;
    }
    .custom-alert i {
      font-size: 18px;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeOut {
      to { opacity: 0; transform: translateY(-10px); }
    }

    /* Tooltip Styles */
    .tooltip {
      position: relative;
      display: inline-block;
    }
    .tooltip .tooltip-text {
      visibility: hidden;
      opacity: 0;
      width: 220px;
      background: #0d6efd;
      color: #fff;
      text-align: center;
      padding: 8px 10px;
      border-radius: 8px;
      position: absolute;
      z-index: 100;
      bottom: 125%; /* position above */
      left: 50%;
      transform: translateX(-50%);
      transition: opacity 0.3s;
      font-size: 13px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }
    .tooltip .tooltip-text::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      border-width: 6px;
      border-style: solid;
      border-color: #0d6efd transparent transparent transparent;
    }
    .tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }
  </style>
</head>
<body>
  <!-- Welcome Notification -->
  <div class="notify" id="welcomeMessage">👋 Welcome back, Sharp User!</div>

  <!-- Main Dashboard -->
  <div class="dashboard-container">
    <div class="profile">
      <img id="profilePic" alt="Profile Picture" />
      <h2>Welcome, MoniSharp Member</h2>
    </div>

    <!-- Balance Overview -->
    <div class="balances">
      <!-- Activity Balance (Points) -->
      <div class="balance-card">
        <i class="fas fa-bolt"></i>
        <h3>Activity Balance</h3>
        <p id="activityBalance" class="count">0 pts</p>

        <!-- Tooltip Wrapper -->
        <div class="tooltip">
          <button id="convertBtn" class="convert-btn">
            Convert to ₦
          </button>
          <span class="tooltip-text">
            Convert your points into spendable deposit balance.<br>
            Rate: 10 pts = ₦1<br>
            Minimum: 17,000 pts.
          </span>
        </div>
      </div>

      <!-- Referral Balance -->
      <div class="balance-card">
        <i class="fas fa-users"></i>
        <h3>Referral Bonus</h3>
        <p id="referralBalance" class="count">₦0</p>
      </div>

      <!-- Game Balance -->
      <div class="balance-card">
        <i class="fas fa-gamepad"></i>
        <h3>Game Balance</h3>
        <p id="gameBalance" class="count">₦0</p>
      </div>

      <!-- Task Balance -->
      <div class="balance-card">
        <i class="fas fa-tasks"></i>
        <h3>Task Balance</h3>
        <p id="taskBalance" class="count">₦0</p>
      </div>

      <!-- Deposit Balance -->
      <div class="balance-card">
        <i class="fas fa-wallet"></i>
        <h3>Deposit Balance</h3>
        <p id="depositBalance" class="count">₦0</p>
      </div>
    </div>

    <!-- Quick Actions Grid -->
    <div class="quick-actions">
      <a href="plus-index.html" class="action-card blue">
        <i class="fas fa-home"></i>
        <h4>Dashboard</h4>
      </a>
      <a href="plus-referral.html" class="action-card green">
        <i class="fas fa-users"></i>
        <h4>Referrals</h4>
      </a>
      <a href="plus-deposit.html" class="action-card purple">
        <i class="fas fa-wallet"></i>
        <h4>Deposit</h4>
      </a>
      <a href="depositBalance.html" class="action-card teal">
        <i class="fas fa-coins"></i>
        <h4>Deposit Balance</h4>
      </a>
      <a href="plus-claimCode.html" class="action-card orange">
        <i class="fas fa-key"></i>
        <h4>Claim Code</h4>
      </a>
      <a href="chargeWith.html" class="action-card red">
        <i class="fas fa-money-bill-wave"></i>
        <h4>Withdraw</h4>
      </a>
      <a href="plus-automatic.html" class="action-card green">
        <i class="fas fa-robot"></i>
        <h4>Automatic Task</h4>
      </a>
      <a href="plus-daily.html" class="action-card gold">
        <i class="fas fa-gift"></i>
        <h4>Daily Reward</h4>
      </a>
      <a href="testimonials.html" class="action-card pink">
        <i class="fas fa-comment-dots"></i>
        <h4>Testimonials</h4>
      </a>
      <a href="plus-task.html" class="action-card indigo">
        <i class="fas fa-tasks"></i>
        <h4>Tasks</h4>
      </a>
      <a href="plus-playgame.html" class="action-card teal">
        <i class="fas fa-gamepad"></i>
        <h4>Play Games</h4>
      </a>
      <a href="job.html" class="action-card gold">
        <i class="fas fa-briefcase"></i>
        <h4>Job Opportunities</h4>
      </a>
      <a href="plus-bankCharge.html" class="action-card gold">
    <i class="fas fa-wallet"></i>
    <h4>No Bank Charges</h4>
</a>
      <a href="info.html" class="action-card blue">
        <i class="fas fa-sign-out-alt"></i>
        <h4>Logout</h4>
      </a>
      <a href="https://wa.me/2348146054930?text=Hello%20Admin%2C%20I%20need%20assistance%20with%20my%20MoniSharp%20account." class="action-card dark">
        <i class="fab fa-whatsapp"></i>
        <h4>Contact Admin</h4>
      </a>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    // Custom notification function
    function showNotification(message, type = "error") {
      const div = document.createElement("div");
      div.className = `custom-alert ${type === "success" ? "success" : ""}`;
      div.innerHTML = `
        <i class="fas ${type === "success" ? "fa-check-circle" : "fa-times-circle"}"></i>
        <span>${message}</span>
      `;
      document.body.appendChild(div);
      setTimeout(() => div.remove(), 3500);
    }

    // Profile Image
    function getProfileImage() {
      const key = "moni_user_pic";
      let saved = localStorage.getItem(key);
      if (!saved) {
        const randomId = Math.floor(Math.random() * 1000);
        saved = `https://api.dicebear.com/7.x/adventurer-neutral/svg?seed=${randomId}`;
        localStorage.setItem(key, saved);
      }
      return saved;
    }
    document.getElementById("profilePic").src = getProfileImage();

    // Hide Welcome Message after 5s
    setTimeout(() => {
      const note = document.getElementById("welcomeMessage");
      if (note) note.style.display = "none";
    }, 5000);

    // Animate Numbers
    function animateCountUp(el, endValue, duration = 1000, isPoints = false) {
      let start = 0;
      const step = Math.ceil(endValue / (duration / 20));
      const counter = setInterval(() => {
        start += step;
        if (start >= endValue) {
          start = endValue;
          clearInterval(counter);
        }
        el.textContent = isPoints 
          ? `${start.toLocaleString()} pts`
          : `₦${start.toLocaleString()}`;
      }, 20);
    }

    // Init Balances
    function initUserBalances(userId) {
      const keys = {
        activity: `plus-activityBalance`,
        referral: `plus-referralBalance`,
        game: `plusgameBalance_${userId}`,
        task: `taskBalance_${userId}`,
        deposit: `plus-depositBalance_${userId}`
      };
      for (const k in keys) {
        if (!localStorage.getItem(keys[k])) localStorage.setItem(keys[k], "0");
      }
      return keys;
    }

    // Load Balances
    function loadBalancesAnimated() {
      const userId = localStorage.getItem("plus-Id");
      if (!userId) {
        console.error("❌ No user ID found.");
        return;
      }
      const keys = initUserBalances(userId);

      const activity = parseInt(localStorage.getItem(keys.activity)) || 0;
      const referral = parseInt(localStorage.getItem(keys.referral)) || 0;
      const game = parseInt(localStorage.getItem(keys.game)) || 0;
      const task = parseInt(localStorage.getItem(keys.task)) || 0;
      const deposit = parseInt(localStorage.getItem(keys.deposit)) || 0;

      animateCountUp(document.getElementById("activityBalance"), activity, 1000, true);
      animateCountUp(document.getElementById("referralBalance"), referral);
      animateCountUp(document.getElementById("gameBalance"), game);
      animateCountUp(document.getElementById("taskBalance"), task);
      animateCountUp(document.getElementById("depositBalance"), deposit);

      // Convert Button
      document.getElementById("convertBtn").onclick = () => {
        if (activity < 17000) {
          showNotification("❌ Minimum 17,000 pts required to convert.");
          return;
        }
        const depositNow = parseInt(localStorage.getItem(keys.deposit)) || 0;
        // Conversion: 10pts = ₦1
        const nairaValue = Math.floor(activity / 10);
        const remainder = activity % 10;

        const newDeposit = depositNow + nairaValue;
        localStorage.setItem(keys.deposit, newDeposit);
        localStorage.setItem(keys.activity, remainder); // leftover points

        showNotification(`✅ Converted ${activity - remainder} pts into ₦${nairaValue}. Remaining: ${remainder} pts`, "success");
        loadBalancesAnimated();
      };
    }

    // Run
    loadBalancesAnimated();
  </script>

  <!-- Other scripts -->
  <script src="plus admin.js"></script>
  <script src="plus-popup.js"></script>
  <script src="display.js"></script>
  <script src="ad place.js"></script>
  <script src="plus-id.js"></script>
  <script src="plus-cop.js"></script>
  <script src="plus-homepage.js"></script>
  <script src="plus-check.js"></script>
  <script src="plus-balance init.js"></script>
</body>
</html>